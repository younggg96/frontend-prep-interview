## You mentioned a subdomain-based multi-tenant architecture. How did you design it, and what tradeoffs did you make?

英文回答：

We needed to support multiple stores for different partners, each with slightly different branding and configurations, but we didn’t want to maintain separate codebases.

I designed a subdomain-based multi-tenant model where:

Each tenant is identified by the host name.

We load its configuration (theme colors, logos, feature flags, API keys) at runtime from a central config service.

The React app itself is shared, but rendering and styling adapt based on the tenant context.

The tradeoff is that we have to be very disciplined about not hard-coding tenant logic in components. To enforce that, I created a tenant context and utilities so things like useTenantConfig() are the single entry point. It’s more upfront work, but it pays off when we onboard a new store with minimal engineering effort.

中文要点：

需求是：多个 Partner 店铺要有不同主题和配置，但不想维护多套代码。

我的设计是基于子域名的多租户：

用 host 来识别 tenant；

运行时从配置中心拉取该 tenant 的主题色、logo、feature flag 等；

React 应用共用一套代码，通过 tenant context 决定渲染差异。

取舍是：需要非常严格地避免在组件里写死 tenant 逻辑，所以我做了统一的 tenant context / hook。虽然前期设计更花时间，但后面接入新店的成本很低。